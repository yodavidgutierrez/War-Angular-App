{"version":3,"file":"router-store-module.js","sourceRoot":"","sources":["../../src/router-store-module.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,QAAQ,EAAE,sBAAsB,EAAe,MAAM,eAAe,CAAC;AAC9E,OAAO,EAAE,QAAQ,EAAE,MAAM,iBAAiB,CAAC;AAC3C,OAAO,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAC;AACzC,OAAO,EAAE,UAAU,EAAE,KAAK,EAAU,MAAM,aAAa,CAAC;AAGxD,OAAO,EACL,4BAA4B,EAC5B,oBAAoB,EACpB,qBAAqB,EACtB,MAAM,WAAW,CAAC;AAEnB,MAAM,2BACJ,MAAc,EACd,QAAkB,EAClB,UAA8B,EAC9B,KAAiB;IAEjB,MAAM,CAAC;QACL,4BAA4B,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;QAC3D,oBAAoB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACpC,qBAAqB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IACvC,CAAC,CAAC;AACJ,CAAC;AAED,MAAM;IACJ,MAAM,CAAC;QACL,OAAO,EAAE,sBAAsB;QAC/B,IAAI,EAAE,CAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,CAAE;QAC7C,UAAU,EAAE,gBAAgB;QAC5B,KAAK,EAAE,IAAI;KACZ,CAAC;AACJ,CAAC;AAGD,IAAa,iBAAiB;IAA9B;IASA,CAAC;IARQ,+BAAa,GAApB;QACE,MAAM,CAAC;YACL,QAAQ,EAAE,mBAAiB;YAC3B,SAAS,EAAE;gBACT,sBAAsB,EAAE;aACzB;SACF,CAAC;IACJ,CAAC;IACH,wBAAC;AAAD,CAAC,AATD,IASC;AATY,iBAAiB;IAD7B,QAAQ,CAAC,EAAE,CAAC;GACA,iBAAiB,CAS7B;SATY,iBAAiB","sourcesContent":["import { NgModule, APP_BOOTSTRAP_LISTENER, OpaqueToken } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { Dispatcher, Store, Action } from '@ngrx/store';\nimport { Observable } from 'rxjs/Observable';\n\nimport {\n  listenForRouterMethodActions,\n  connectRouterActions,\n  listenForStoreChanges\n} from './connect';\n\nexport function setupRouterStore(\n  router: Router,\n  location: Location,\n  dispatcher: Observable<Action>,\n  store: Store<any>\n) {\n  return () => {\n    listenForRouterMethodActions(router, location, dispatcher);\n    connectRouterActions(router, store);\n    listenForStoreChanges(router, store);\n  };\n}\n\nexport function provideRouterConnector() {\n  return {\n    provide: APP_BOOTSTRAP_LISTENER,\n    deps: [ Router, Location, Dispatcher, Store ],\n    useFactory: setupRouterStore,\n    multi: true\n  };\n}\n\n@NgModule({})\nexport class RouterStoreModule {\n  static connectRouter() {\n    return {\n      ngModule: RouterStoreModule,\n      providers: [\n        provideRouterConnector()\n      ]\n    };\n  }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}